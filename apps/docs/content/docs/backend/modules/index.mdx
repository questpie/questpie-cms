---
title: Modules Overview
description: Composable CMS modules for feature organization
---

# Modules Overview

QUESTPIE modules let you organize and share CMS features as composable units. A module is simply a QUESTPIE builder that can be merged into other builders using `.use()`.

## What is a Module?

A module is a self-contained piece of CMS functionality:

```typescript
import { q, text, boolean } from "questpie";

// Blog module with posts and categories
export const blogModule = q({ name: "blog" })
  .collections({
    posts: q.collection("posts")
      .fields({
        title: text("title").notNull(),
        content: text("content"),
        published: boolean("published").default(false),
      }),

    categories: q.collection("categories")
      .fields({
        name: text("name").notNull(),
        slug: text("slug").notNull(),
      }),
  })
  .jobs({
    publishScheduledPosts: async ({ ctx }) => {
      // Publish posts with scheduled dates
    },
  });
```

## Using Modules

Compose modules into your CMS using `.use()`:

```typescript
import { q } from "questpie";
import { adminModule } from "@questpie/admin/server";
import { blogModule } from "./modules/blog";
import { ecommerceModule } from "./modules/ecommerce";

const cms = q({ name: "my-cms" })
  .use(adminModule)        // Auth, users, assets
  .use(blogModule)         // Posts, categories
  .use(ecommerceModule)    // Products, orders
  .collections({
    // Additional collections
    pages: q.collection("pages").fields({...}),
  })
  .build({
    db: { url: process.env.DATABASE_URL },
  });
```

## Override Strategy

When modules define the same collection, job, or setting, **later definitions win**:

```typescript
const moduleA = q({ name: "a" })
  .collections({
    posts: q.collection("posts").fields({
      title: text("title"),
    }),
  });

const moduleB = q({ name: "b" })
  .collections({
    posts: q.collection("posts").fields({
      title: text("title"),
      subtitle: text("subtitle"),  // Added field
    }),
  });

const cms = q({ name: "cms" })
  .use(moduleA)
  .use(moduleB)  // moduleB's posts definition wins
  .build({...});
```

**Merge behavior:**

| Type | Behavior |
|------|----------|
| Collections | Same name: later replaces earlier |
| Globals | Same name: later replaces earlier |
| Jobs | Same name: later replaces earlier |
| Auth | Options merged (later overrides) |
| Messages | Keys merged (later overrides) |
| Email Templates | Same name: later replaces earlier |

## Built-in Modules

### Admin Module

The `adminModule` from `@questpie/admin/server` provides core CMS functionality:

```typescript
import { adminModule } from "@questpie/admin/server";

const cms = q({ name: "my-cms" })
  .use(adminModule)
  .build({...});
```

Includes:
- `users` collection - User accounts
- `sessions` collection - Auth sessions
- `accounts` collection - OAuth accounts
- `verifications` collection - Email verification
- `apikeys` collection - API keys
- `assets` collection - File uploads
- Better Auth configuration
- Core backend messages

See [Starter Module](/docs/backend/modules/starter-module) for details.

## Module Benefits

### 1. Code Organization

Group related functionality:

```
src/
├── questpie/
│   ├── server/
│   │   ├── cms.ts              # Main CMS
│   │   └── modules/
│   │       ├── blog/
│   │       │   ├── index.ts    # Module export
│   │       │   ├── posts.ts    # Posts collection
│   │       │   └── jobs.ts     # Blog jobs
│   │       └── ecommerce/
│   │           ├── index.ts
│   │           ├── products.ts
│   │           └── orders.ts
```

### 2. Reusability

Share modules across projects:

```typescript
// @myorg/cms-modules/src/blog.ts
export const blogModule = q({ name: "blog" })
  .collections({...})
  .jobs({...});

// In another project
import { blogModule } from "@myorg/cms-modules";

const cms = q({ name: "cms" })
  .use(blogModule)
  .build({...});
```

### 3. Feature Toggling

Enable/disable features easily:

```typescript
const cms = q({ name: "my-cms" })
  .use(adminModule)
  .use(blogModule)
  .use(process.env.ENABLE_ECOMMERCE ? ecommerceModule : q({ name: "noop" }))
  .build({...});
```

### 4. Testing

Test modules in isolation:

```typescript
// blog.test.ts
import { blogModule } from "./blog";

const testCms = q({ name: "test" })
  .use(blogModule)
  .build({ db: { pglite: true } });

// Test blog functionality
```

## Creating Modules

See [Custom Modules](/docs/backend/modules/custom-modules) for a guide on creating your own modules.

## Related

- [Starter Module](/docs/backend/modules/starter-module) - Built-in auth and assets
- [Custom Modules](/docs/backend/modules/custom-modules) - Create your own modules
- [Builder API](/docs/backend/builder-api) - Full builder reference
