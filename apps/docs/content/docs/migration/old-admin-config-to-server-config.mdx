---
title: Old Admin Config -> Server Config
description: Migrate from legacy split config to server-first admin definition
---

# Old Admin Config -> Server Config

## Old pattern (deprecated)

- collection schema in one place
- admin list/form config in separate client-owned schema

## New pattern

- define admin blueprint on server collection/global:
  - `.admin()`
  - `.list()`
  - `.form()`
  - `.dashboard()`
  - `.sidebar()`

## Migration steps

1. move list/form config next to collection/global definitions
2. keep client `qa` focused on registries only
3. remove duplicated field definitions from client config files

## Before

```ts
// server: only data model
// client: defines list/form structure
```

## After

```ts
// server: defines data model + admin blueprint
collection("posts")
  .fields((f) => ({ ... }))
  .admin(({ c }) => ({ ... }))
  .list(({ v, f }) => v.table({ ... }))
  .form(({ v, f }) => v.form({ ... }));
```
