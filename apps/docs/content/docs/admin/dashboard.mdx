---
title: Dashboard Configuration
description: Build beautiful dashboards with widgets, charts, and analytics
---

# Dashboard Configuration

The dashboard builder creates customizable admin dashboards with widgets for stats, charts, tables, and more.

## Basic Configuration

```typescript
import { qa } from "@questpie/admin/client";

export const dashboard = qa.dashboard({
  title: { en: "Dashboard", sk: "Prehlad" },
  description: { en: "Overview and analytics", sk: "Prehlad a analytika" },
  columns: 4,
  items: [
    // Widget items
  ],
});
```

## Grid System

Dashboards use a column-based grid. Each widget can span multiple columns:

```typescript
{
  columns: 4,  // 4-column grid
  items: [
    { type: "stats", span: 1, ... },  // 1/4 width
    { type: "stats", span: 2, ... },  // 2/4 width
    { type: "chart", span: 4, ... },  // Full width
  ],
}
```

## Widget Types

### Stats Widget

Display collection counts:

```typescript
{
  id: "total-posts",
  type: "stats",
  collection: "posts",
  label: { en: "Total Posts", sk: "Celkom prispevkov" },
  icon: FileTextIcon,
  span: 1,
  variant: "primary",  // "default" | "primary" | "success" | "warning" | "error"
}
```

With filters:

```typescript
{
  id: "active-barbers",
  type: "stats",
  collection: "barbers",
  label: "Active Barbers",
  filter: { isActive: true },  // Only count active
  icon: UsersIcon,
}
```

With date filter:

```typescript
{
  id: "monthly-appointments",
  type: "stats",
  collection: "appointments",
  label: "This Month",
  dateFilter: {
    field: "scheduledAt",
    range: "thisMonth",  // "today" | "thisWeek" | "thisMonth" | "thisYear"
  },
}
```

### Value Widget

Display custom values with trends:

```typescript
{
  id: "revenue",
  type: "value",
  span: 2,
  cardVariant: "featured",
  fetchFn: async () => {
    const stats = await client.functions.getRevenueStats();
    const change = calculateChange(stats);

    return {
      value: stats.totalRevenue / 100,
      formatted: `${stats.totalRevenue.toLocaleString()} €`,
      label: { en: "Monthly Revenue", sk: "Mesacne trzby" },
      subtitle: { en: `${stats.count} completed`, sk: `${stats.count} dokonceno` },
      footer: { en: "vs. last month", sk: "vs. minuly mesiac" },
      icon: CurrencyIcon,
      trend: {
        value: `${change >= 0 ? "+" : ""}${change}%`,
        icon: change >= 0 ? ArrowUpIcon : ArrowDownIcon,
      },
      classNames: {
        root: change >= 0 ? "border-green-500/30" : "border-red-500/30",
        value: change >= 0 ? "text-green-600" : "text-red-600",
      },
    };
  },
}
```

### Chart Widget

Display time-series or categorical charts:

```typescript
// Area/line chart (time-series)
{
  id: "appointments-chart",
  type: "chart",
  collection: "appointments",
  field: "scheduledAt",
  chartType: "area",  // "area" | "line" | "bar"
  timeRange: "30d",   // "7d" | "30d" | "90d" | "1y"
  label: { en: "Appointments (30 days)", sk: "Rezervacie (30 dni)" },
  color: "var(--color-chart-1)",
  span: 2,
}

// Pie chart (categorical)
{
  id: "status-breakdown",
  type: "chart",
  collection: "appointments",
  field: "status",
  chartType: "pie",
  label: "By Status",
  span: 1,
}

// Bar chart
{
  id: "reviews-chart",
  type: "chart",
  collection: "reviews",
  field: "createdAt",
  chartType: "bar",
  timeRange: "30d",
  color: "var(--color-chart-2)",
  span: 2,
}
```

### Progress Widget

Display goal progress:

```typescript
{
  id: "monthly-goal",
  type: "progress",
  title: { en: "Revenue Goal", sk: "Ciel trzby" },
  showPercentage: true,
  fetchFn: async () => {
    const stats = await client.functions.getRevenueStats();
    const target = 500000;  // 5000€

    return {
      current: stats.totalRevenue,
      target,
      label: `${(stats.totalRevenue / 100).toLocaleString()} € / ${(target / 100).toLocaleString()} €`,
      subtitle: stats.totalRevenue >= target
        ? "Goal reached!"
        : `${((target - stats.totalRevenue) / 100).toLocaleString()} € to go`,
    };
  },
  span: 1,
}
```

### Recent Items Widget

Show recently created/updated items:

```typescript
{
  id: "recent-appointments",
  type: "recentItems",
  collection: "appointments",
  label: { en: "Recent Appointments", sk: "Posledne rezervacie" },
  limit: 5,
  dateField: "scheduledAt",
  subtitleFields: ["status"],
  span: 1,
}
```

### Table Widget

Display collection data in a table:

```typescript
{
  id: "barbers-table",
  type: "table",
  title: { en: "Team", sk: "Tim" },
  collection: "barbers",
  columns: ["name", "email", "isActive"],
  limit: 5,
  sortBy: "name",
  sortOrder: "asc",
  linkToDetail: true,
  emptyMessage: { en: "No barbers yet", sk: "Ziadni holici" },
  span: 2,
}

// With custom rendering
{
  id: "reviews-table",
  type: "table",
  collection: "reviews",
  columns: [
    {
      key: "rating",
      width: 80,
      render: (value: number) => `${value}/5`,
    },
    "comment",
  ],
  limit: 5,
}
```

### Timeline Widget

Display activity timeline:

```typescript
{
  id: "activity",
  type: "timeline",
  title: { en: "Recent Activity", sk: "Posledna aktivita" },
  maxItems: 8,
  showTimestamps: true,
  timestampFormat: "relative",
  emptyMessage: { en: "No activity", sk: "Ziadna aktivita" },
  fetchFn: async () => {
    const appointments = await client.collections.appointments.find({
      limit: 8,
      orderBy: { updatedAt: "desc" },
    });

    return appointments.docs.map((apt) => ({
      id: apt.id,
      title: apt._title || `Appointment #${apt.id.slice(0, 8)}`,
      description: getStatusLabel(apt.status),
      timestamp: apt.updatedAt,
      variant: getStatusVariant(apt.status),  // "default" | "info" | "success" | "warning" | "error"
      href: `/admin/collections/appointments/${apt.id}`,
    }));
  },
  span: 1,
}
```

### Quick Actions Widget

Display action buttons:

```typescript
{
  id: "quick-actions",
  type: "quickActions",
  title: { en: "Quick Actions", sk: "Rychle akcie" },
  layout: "list",  // "list" | "grid"
  quickActions: [
    {
      label: { en: "New Appointment", sk: "Nova rezervacia" },
      href: "/admin/collections/appointments/create",
      icon: CalendarIcon,
      variant: "primary",
    },
    {
      label: { en: "Add Barber", sk: "Pridat holica" },
      href: "/admin/collections/barbers/create",
      icon: UsersIcon,
    },
  ],
  span: 1,
}
```

## Layout Containers

### Section

Group widgets with a header:

```typescript
{
  type: "section",
  label: { en: "Key Metrics", sk: "Klucove metriky" },
  wrapper: "flat",  // "flat" | "card"
  layout: "grid",
  columns: 4,
  items: [
    { type: "stats", ... },
    { type: "stats", ... },
  ],
}
```

### Tabs

Organize widgets in tabs:

```typescript
{
  type: "tabs",
  variant: "line",  // "line" | "pills"
  defaultTab: "overview",
  tabs: [
    {
      id: "overview",
      label: { en: "Overview", sk: "Prehlad" },
      icon: ListChecksIcon,
      items: [
        { type: "stats", ... },
        { type: "recentItems", ... },
      ],
    },
    {
      id: "analytics",
      label: { en: "Analytics", sk: "Analytika" },
      icon: ChartIcon,
      items: [
        { type: "chart", ... },
        { type: "progress", ... },
      ],
    },
  ],
}
```

## Complete Example

```typescript
// admin/dashboard.ts
import { qa, type DashboardConfig } from "@questpie/admin/client";
import { client } from "@/lib/cms-client";

export const dashboard = qa.dashboard({
  title: { en: "Dashboard", sk: "Prehlad" },
  columns: 4,
  items: [
    // Key metrics section
    {
      type: "section",
      label: { en: "Key Metrics", sk: "Klucove metriky" },
      wrapper: "flat",
      layout: "grid",
      columns: 4,
      items: [
        {
          id: "revenue",
          type: "value",
          span: 2,
          cardVariant: "featured",
          fetchFn: async () => {
            const stats = await client.functions.getRevenueStats();
            return {
              value: stats.total,
              formatted: `${stats.total.toLocaleString()} €`,
              label: "Revenue",
              icon: CurrencyIcon,
            };
          },
        },
        {
          id: "pending",
          type: "stats",
          collection: "appointments",
          filter: { status: "pending" },
          label: "Pending",
          icon: ClockIcon,
          span: 1,
        },
        {
          id: "rating",
          type: "value",
          span: 1,
          fetchFn: async () => {
            const reviews = await client.collections.reviews.find({ limit: 1000 });
            const avg = reviews.docs.reduce((sum, r) => sum + r.rating, 0) / reviews.docs.length;
            return {
              value: avg.toFixed(1),
              formatted: `${avg.toFixed(1)}/5`,
              label: "Rating",
              icon: StarIcon,
            };
          },
        },
      ],
    },

    // Main content tabs
    {
      type: "tabs",
      defaultTab: "overview",
      tabs: [
        {
          id: "overview",
          label: "Overview",
          items: [
            {
              type: "section",
              wrapper: "flat",
              layout: "grid",
              columns: 2,
              items: [
                {
                  id: "recent",
                  type: "recentItems",
                  collection: "appointments",
                  label: "Recent Appointments",
                  limit: 5,
                  span: 1,
                },
                {
                  id: "actions",
                  type: "quickActions",
                  title: "Quick Actions",
                  quickActions: [
                    { label: "New Appointment", href: "/admin/collections/appointments/create", variant: "primary" },
                  ],
                  span: 1,
                },
              ],
            },
          ],
        },
        {
          id: "analytics",
          label: "Analytics",
          items: [
            {
              type: "chart",
              collection: "appointments",
              field: "scheduledAt",
              chartType: "area",
              timeRange: "30d",
              label: "Appointments",
              span: 2,
            },
          ],
        },
      ],
    },
  ],
} satisfies DashboardConfig);
```

## Adding to Admin

```typescript
// admin/admin.ts
import { dashboard } from "./dashboard";

export const admin = qa()
  .use(adminModule)
  .dashboard(dashboard);
```

## Next Steps

<Cards>
  <Card href="/docs/admin/hooks" title="Hooks" description="Access data in custom widgets" />
  <Card href="/docs/admin/extensibility/custom-widgets" title="Custom Widgets" description="Create your own widgets" />
</Cards>
