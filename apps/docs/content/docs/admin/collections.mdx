---
title: Collection UI Configuration
description: Configure admin interface for your collections
---

# Collection UI Configuration

Collection admin configurations define how your data is displayed and edited in the admin interface.

## Creating a Collection Config

```typescript
import { builder } from "./builder";
import { FileTextIcon } from "@phosphor-icons/react";

export const postsAdmin = builder
  .collection("posts")         // Must match backend collection name
  .meta({...})                 // UI metadata
  .preview({...})              // Live preview (optional)
  .fields(({ r }) => ({...}))  // Field configurations
  .list(({ v, f }) => {...})   // List/table view
  .form(({ v, f }) => {...});  // Create/edit form
```

## `.meta()` - UI Metadata

Configure how the collection appears in navigation:

```typescript
.meta({
  // Label shown in sidebar and page headers
  label: "Blog Posts",
  // Or with i18n
  label: { en: "Blog Posts", sk: "Blogove prispevky" },

  // Icon component (from @phosphor-icons/react)
  icon: FileTextIcon,

  // Optional description
  description: "Manage your blog content",
})
```

<Callout type="warning">
Icons must be React components, not strings. Import from a library like `@phosphor-icons/react`.
</Callout>

## `.preview()` - Live Preview

Enable real-time preview while editing:

```typescript
.preview({
  // Generate preview URL from form values
  url: (values) => {
    const slug = values.slug || values.id;
    return `/posts/${slug}?preview=true`;
  },

  // Enable/disable preview
  enabled: true,

  // Panel position
  position: "right",  // "right" | "bottom"

  // Default width as percentage
  defaultWidth: 50,
})
```

The preview panel shows a live iframe of your content. See [Preview System](/docs/admin/preview) for details.

## `.fields()` - Field Configurations

Define how each field appears in forms:

```typescript
.fields(({ r }) => ({
  title: r.text({
    label: "Title",
    placeholder: "Enter title...",
    maxLength: 200,
    required: true,
  }),

  content: r.richText({
    label: "Content",
    description: "Main article content",
  }),

  status: r.select({
    label: "Status",
    options: [
      { label: "Draft", value: "draft" },
      { label: "Published", value: "published" },
    ],
    defaultValue: "draft",
  }),

  author: r.relation({
    label: "Author",
    targetCollection: "users",
  }),

  publishedAt: r.datetime({
    label: "Publish Date",
    // Conditional visibility
    visible: (values) => values.status === "published",
  }),
}))
```

### Common Field Options

All field types support these options:

| Option | Type | Description |
|--------|------|-------------|
| `label` | `string \| I18nText` | Display label |
| `description` | `string \| I18nText` | Help text below field |
| `placeholder` | `string \| I18nText` | Placeholder text |
| `required` | `boolean \| (values) => boolean` | Validation requirement |
| `readOnly` | `boolean \| (values) => boolean` | Disable editing |
| `visible` | `(values) => boolean` | Conditional visibility |
| `defaultValue` | `any` | Default value for new items |

### Conditional Fields

Make fields conditional based on other values:

```typescript
.fields(({ r }) => ({
  status: r.select({
    label: "Status",
    options: [
      { label: "Active", value: "active" },
      { label: "Cancelled", value: "cancelled" },
    ],
  }),

  // Only show when cancelled
  cancellationReason: r.textarea({
    label: "Cancellation Reason",
    visible: (values) => values.status === "cancelled",
    required: (values) => values.status === "cancelled",
  }),

  // Readonly unless draft
  publishedAt: r.datetime({
    label: "Published",
    readOnly: (values) => values.status !== "draft",
  }),
}))
```

## `.list()` - Table View

Configure the collection list page:

```typescript
.list(({ v, f }) => v.table({
  // Columns to display
  columns: [f.title, f.status, f.author, f.createdAt],

  // Default sorting
  defaultSort: { field: "createdAt", direction: "desc" },

  // Enable search
  searchable: true,

  // Filterable fields
  filters: [f.status, f.author],

  // Bulk actions
  bulkActions: ["delete"],

  // Row click behavior
  rowAction: "edit",  // "edit" | "view" | "none"
}))
```

### Empty Table Config

Pass an empty config to use defaults (shows all fields):

```typescript
.list(({ v }) => v.table({}))
```

See [Table View](/docs/admin/views/table-view) for all options.

## `.form()` - Edit Form

Configure the create/edit form:

```typescript
.form(({ v, f }) => v.form({
  // Sidebar layout
  sidebar: {
    position: "right",
    width: "300px",
    fields: [f.status, f.publishedAt, f.author],
  },

  // Main sections
  sections: [
    {
      title: "Content",
      description: "Main article content",
      fields: [f.title, f.slug, f.content],
    },
    {
      title: "SEO",
      collapsible: true,
      defaultOpen: false,
      fields: [f.metaTitle, f.metaDescription],
    },
  ],
}))
```

### Layout Options

Forms support various layouts:

```typescript
// Columns layout
{
  title: "Contact Info",
  layout: "columns",
  columns: 2,
  fields: [f.firstName, f.lastName, f.email, f.phone],
}

// Grid layout with spans
{
  layout: "grid",
  grid: { columns: 4, gap: 4 },
  fields: [
    { field: f.title, span: 4 },      // Full width
    { field: f.price, span: 1 },      // 1/4
    { field: f.currency, span: 1 },   // 1/4
    { field: f.stock, span: 2 },      // 2/4
  ],
}

// Tabs
{
  tabs: [
    {
      id: "content",
      label: "Content",
      fields: [f.title, f.body],
    },
    {
      id: "settings",
      label: "Settings",
      fields: [f.status, f.visibility],
    },
  ],
}
```

See [Form Layouts](/docs/admin/views/form-layouts) for all options.

## Complete Example

```typescript
// admin/collections/appointments.ts
import { CalendarIcon } from "@phosphor-icons/react";
import { builder } from "../builder";

export const appointmentsAdmin = builder
  .collection("appointments")
  .meta({
    label: { en: "Appointments", sk: "Rezervacie" },
    icon: CalendarIcon,
  })
  .fields(({ r }) => ({
    customerName: r.text({
      label: { en: "Customer Name", sk: "Meno zakaznika" },
      required: true,
    }),
    customerEmail: r.email({
      label: { en: "Email", sk: "Email" },
      required: true,
    }),
    customerPhone: r.text({
      label: { en: "Phone", sk: "Telefon" },
    }),
    barber: r.relation({
      label: { en: "Barber", sk: "Holic" },
      targetCollection: "barbers",
      required: true,
    }),
    service: r.relation({
      label: { en: "Service", sk: "Sluzba" },
      targetCollection: "services",
      required: true,
    }),
    scheduledAt: r.datetime({
      label: { en: "Date & Time", sk: "Datum a cas" },
      required: true,
    }),
    status: r.select({
      label: { en: "Status", sk: "Stav" },
      options: [
        { label: { en: "Pending", sk: "Cakajuce" }, value: "pending" },
        { label: { en: "Confirmed", sk: "Potvrdene" }, value: "confirmed" },
        { label: { en: "Completed", sk: "Dokoncene" }, value: "completed" },
        { label: { en: "Cancelled", sk: "Zrusene" }, value: "cancelled" },
      ],
      defaultValue: "pending",
    }),
    notes: r.textarea({
      label: { en: "Notes", sk: "Poznamky" },
    }),
  }))
  .list(({ v, f }) => v.table({
    columns: [f.customerName, f.barber, f.service, f.scheduledAt, f.status],
    defaultSort: { field: "scheduledAt", direction: "desc" },
    filters: [f.status, f.barber],
  }))
  .form(({ v, f }) => v.form({
    sidebar: {
      position: "right",
      fields: [f.status],
    },
    sections: [
      {
        title: { en: "Customer", sk: "Zakaznik" },
        layout: "grid",
        grid: { columns: 2 },
        fields: [
          f.customerName,
          f.customerEmail,
          f.customerPhone,
        ],
      },
      {
        title: { en: "Appointment", sk: "Rezervacia" },
        layout: "grid",
        grid: { columns: 2 },
        fields: [
          f.barber,
          f.service,
          { field: f.scheduledAt, span: 2 },
        ],
      },
      {
        title: { en: "Notes", sk: "Poznamky" },
        fields: [f.notes],
      },
    ],
  }));
```

## Related

- [Field Types](/docs/admin/fields) - All 22+ field types
- [Table View](/docs/admin/views/table-view) - Configure list pages
- [Form View](/docs/admin/views/form-view) - Configure edit forms
- [Live Preview](/docs/admin/preview) - Real-time content preview
