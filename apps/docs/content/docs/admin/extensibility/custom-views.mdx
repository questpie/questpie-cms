---
title: Custom Views
description: Creating custom view types for QUESTPIE Admin
---

# Custom Views

Create custom views to display collections in different layouts beyond the standard table and form.

## View Types

There are two kinds of views:

- **List Views** (`kind: "list"`): Display multiple items (table, grid, kanban)
- **Edit Views** (`kind: "edit"`): Edit a single item (form, wizard)

## View Structure

```typescript
import { view } from "@questpie/admin/client";

const myView = view("myView", {
  // Required: "list" or "edit"
  kind: "list",

  // Required: React component
  component: MyViewComponent,

  // Required: TypeScript config type
  config: {} as MyViewConfig,

  // Optional: Default configuration
  defaultConfig: { ... },
});
```

## Example: Kanban View

A kanban board for visualizing items by status.

### 1. Define Config Type

```typescript
interface KanbanViewConfig {
  statusField: string;
  columns: {
    value: string;
    label: string;
    color?: string;
  }[];
  titleField: string;
  subtitleField?: string;
  showCounts?: boolean;
}
```

### 2. Create View Component

```tsx
interface KanbanViewProps {
  config: KanbanViewConfig;
  data: any[];
  isLoading: boolean;
  onItemClick: (id: string) => void;
  onStatusChange: (id: string, newStatus: string) => void;
}

function KanbanViewComponent({
  config,
  data,
  isLoading,
  onItemClick,
  onStatusChange,
}: KanbanViewProps) {
  if (isLoading) {
    return <KanbanSkeleton columns={config.columns.length} />;
  }

  // Group items by status
  const itemsByStatus = useMemo(() => {
    const grouped: Record<string, any[]> = {};
    for (const col of config.columns) {
      grouped[col.value] = [];
    }
    for (const item of data) {
      const status = item[config.statusField];
      if (grouped[status]) {
        grouped[status].push(item);
      }
    }
    return grouped;
  }, [data, config]);

  return (
    <div className="flex gap-4 overflow-x-auto p-4">
      {config.columns.map((column) => (
        <div key={column.value} className="w-72 flex-shrink-0">
          <div
            className="mb-3 flex items-center justify-between rounded-lg p-2"
            style={{ backgroundColor: column.color ?? "#f3f4f6" }}
          >
            <h3 className="font-semibold">{column.label}</h3>
            {config.showCounts && (
              <span className="rounded-full bg-white px-2 text-sm">
                {itemsByStatus[column.value].length}
              </span>
            )}
          </div>

          <div className="space-y-2">
            {itemsByStatus[column.value].map((item) => (
              <KanbanCard
                key={item.id}
                item={item}
                config={config}
                onClick={() => onItemClick(item.id)}
              />
            ))}
          </div>
        </div>
      ))}
    </div>
  );
}

function KanbanCard({ item, config, onClick }) {
  return (
    <div
      onClick={onClick}
      className="cursor-pointer rounded-lg border bg-white p-3 shadow-sm hover:shadow-md"
    >
      <h4 className="font-medium">{item[config.titleField]}</h4>
      {config.subtitleField && (
        <p className="text-sm text-muted-foreground">
          {item[config.subtitleField]}
        </p>
      )}
    </div>
  );
}
```

### 3. Create View Definition

```typescript
export const kanbanView = view("kanban", {
  kind: "list",
  component: KanbanViewComponent,
  config: {} as KanbanViewConfig,
  defaultConfig: {
    showCounts: true,
  },
});
```

### 4. Register and Use

```typescript
// Register
// Create builder with custom view
const builder = qa<AppCMS>()
  .use(adminModule)
  .views({ kanban: kanbanView });

// Use - builder now has v.kanban() available
const tasksAdmin = builder.collection("tasks")
  .fields(({ r }) => ({
    title: r.text({ label: "Title" }),
    description: r.textarea({ label: "Description" }),
    status: r.select({
      label: "Status",
      options: [
        { label: "To Do", value: "todo" },
        { label: "In Progress", value: "in-progress" },
        { label: "Done", value: "done" },
      ],
    }),
  }))
  .list(({ v, f }) => v.kanban({
    statusField: "status",
    columns: [
      { value: "todo", label: "To Do", color: "#fee2e2" },
      { value: "in-progress", label: "In Progress", color: "#fef3c7" },
      { value: "done", label: "Done", color: "#d1fae5" },
    ],
    titleField: "title",
    subtitleField: "description",
  }));
```

## Example: Grid View

A card grid layout for visual content.

```typescript
interface GridViewConfig {
  imageField?: string;
  titleField: string;
  subtitleField?: string;
  columns?: 2 | 3 | 4 | 5;
  aspectRatio?: "square" | "video" | "portrait";
}

function GridViewComponent({ config, data, onItemClick }) {
  const cols = config.columns ?? 4;

  return (
    <div
      className="grid gap-4 p-4"
      style={{
        gridTemplateColumns: `repeat(${cols}, minmax(0, 1fr))`,
      }}
    >
      {data.map((item) => (
        <div
          key={item.id}
          onClick={() => onItemClick(item.id)}
          className="cursor-pointer overflow-hidden rounded-lg border"
        >
          {config.imageField && (
            <div
              className={cn(
                "bg-muted",
                config.aspectRatio === "square" && "aspect-square",
                config.aspectRatio === "video" && "aspect-video",
                config.aspectRatio === "portrait" && "aspect-[3/4]"
              )}
            >
              <img
                src={item[config.imageField]}
                className="h-full w-full object-cover"
              />
            </div>
          )}
          <div className="p-3">
            <h3 className="font-medium">{item[config.titleField]}</h3>
            {config.subtitleField && (
              <p className="text-sm text-muted-foreground">
                {item[config.subtitleField]}
              </p>
            )}
          </div>
        </div>
      ))}
    </div>
  );
}

export const gridView = view("grid", {
  kind: "list",
  component: GridViewComponent,
  config: {} as GridViewConfig,
  defaultConfig: {
    columns: 4,
    aspectRatio: "square",
  },
});
```

## Example: Wizard Form View

A multi-step form for complex data entry.

```typescript
interface WizardViewConfig {
  steps: {
    title: string;
    description?: string;
    fields: string[];
  }[];
}

function WizardViewComponent({ config, data, onSubmit }) {
  const [step, setStep] = useState(0);
  const currentStep = config.steps[step];
  const isLastStep = step === config.steps.length - 1;

  return (
    <div className="mx-auto max-w-2xl p-4">
      {/* Progress */}
      <div className="mb-8">
        <div className="flex justify-between">
          {config.steps.map((s, i) => (
            <div
              key={i}
              className={cn(
                "flex items-center",
                i <= step ? "text-primary" : "text-muted-foreground"
              )}
            >
              <span className="flex h-8 w-8 items-center justify-center rounded-full border">
                {i + 1}
              </span>
              <span className="ml-2 text-sm">{s.title}</span>
            </div>
          ))}
        </div>
      </div>

      {/* Current step */}
      <div>
        <h2 className="text-xl font-semibold">{currentStep.title}</h2>
        {currentStep.description && (
          <p className="text-muted-foreground">{currentStep.description}</p>
        )}

        <div className="mt-4 space-y-4">
          {currentStep.fields.map((fieldName) => (
            <FieldRenderer key={fieldName} name={fieldName} />
          ))}
        </div>
      </div>

      {/* Navigation */}
      <div className="mt-8 flex justify-between">
        <Button
          variant="outline"
          onClick={() => setStep(step - 1)}
          disabled={step === 0}
        >
          Previous
        </Button>
        {isLastStep ? (
          <Button onClick={onSubmit}>Submit</Button>
        ) : (
          <Button onClick={() => setStep(step + 1)}>Next</Button>
        )}
      </div>
    </div>
  );
}

export const wizardView = view("wizard", {
  kind: "edit",
  component: WizardViewComponent,
  config: {} as WizardViewConfig,
});
```

## View Props Reference

### List View Props

```typescript
interface ListViewProps<TConfig> {
  config: TConfig;
  data: any[];
  isLoading: boolean;
  error?: Error;
  pagination: {
    page: number;
    pageSize: number;
    total: number;
    setPage: (page: number) => void;
  };
  sorting: {
    field: string | null;
    direction: "asc" | "desc";
    setSort: (field: string, dir: "asc" | "desc") => void;
  };
  filters: Record<string, any>;
  setFilter: (field: string, value: any) => void;
  onItemClick: (id: string) => void;
  onItemDelete: (id: string) => void;
  selectedIds: string[];
  onSelectionChange: (ids: string[]) => void;
}
```

### Edit View Props

```typescript
interface EditViewProps<TConfig> {
  config: TConfig;
  data: any | null;
  isLoading: boolean;
  error?: Error;
  control: any;  // react-hook-form control
  onSubmit: (data: any) => void;
  onCancel: () => void;
  isSubmitting: boolean;
}
```

## Best Practices

### 1. Handle Loading States

```typescript
function MyListView({ data, isLoading }) {
  if (isLoading) {
    return <MyViewSkeleton />;
  }

  if (data.length === 0) {
    return <EmptyState />;
  }

  return <MyViewContent data={data} />;
}
```

### 2. Support Pagination

```typescript
function MyListView({ data, pagination }) {
  return (
    <div>
      <div>{/* items */}</div>
      <Pagination
        page={pagination.page}
        total={pagination.total}
        pageSize={pagination.pageSize}
        onChange={pagination.setPage}
      />
    </div>
  );
}
```

### 3. Make Responsive

```typescript
function GridView({ config }) {
  const isMobile = useIsMobile();
  const columns = isMobile ? 2 : config.columns;

  return (
    <div style={{ gridTemplateColumns: `repeat(${columns}, 1fr)` }}>
      {/* ... */}
    </div>
  );
}
```

## Related

- [Custom Widgets](/docs/admin/extensibility/custom-widgets) - Create dashboard widgets
- [Built-in Views](/docs/admin/views) - Standard view types
